### 正则表达式（regex）

#### re模块3大类：模式匹配，替换，拆分

##### 1. re需先编译(compile)

​	```regex = re.compile('正则表达式'[,flags=re.IGNORECASE]) # 编译re,[忽略大小写]```

​	```regex = re.comilpe(r'正则表达式') 					 # 加r避免一些转义错误```

##### 2.匹配

!!!  regex是已经编译过的re对象

​	```regex.findall(text) 					# 匹配所有模式```

​	```regex.search(text) 					# 仅返回第一个匹配到的项的起始位置与结束位置```

​				``` m = regex.search(text)```

​				``` text[m.start():m.end()] 			# 显示匹配到的项```

​	```regex.match(text) 						# 更严格，仅匹配字符串首部，第一个字符串不能匹配就报错```

​	```regex.sub('xxx',text) 					# 将匹配到的字符替换为xxx```

##### 分组

 1. 分组匹配 

    ```regex = re.compile(r'(re表达式)(re表达式)')   # re表达式为分组形式```

    ```m = regex.match(text)```

    ```m.groups() 								# 返回一个元组```

    ``` regex.findall(text) 						# 返回元组列表```

    ```regex.sub(r'name_1:\1,name_2:\2',text) # 通过\1,\2访问匹配到的分组```







| 表达符                 | 作用                             |
| ---------------------- | -------------------------------- |
| ^X                     | 以X开头                          |
| [^X]                  | 不以str开头                      |
| X$                     | 以str结尾                        |
| ^$                     | 空白行                           |
| .                      | 任意一个字符                     |
| X*                     | X重复0次或n次                    |
| .*                     | 任意个任意字符                   |
| [ ]                    | 匹配[ ]中的任意字符，[0-9],[a-z] |
| X{2} , X{2, } , X{2,5} | X重复2次，2次以上，2-5次         |
| \w | 匹配数字和字母[A-Z 0-9 a-z] |
| \W | \w取反，匹配符号（， ； \|）等 |
| \d | 匹配数字 |
| \D | 非数字 |
| X? | X出现0-1次 |
| X+ | X出现1-n次 |
| X \| Y | X 或 Y |


