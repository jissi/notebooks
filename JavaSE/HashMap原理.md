# HashMap原理

jdk1.7 : 数组 + 链表

jdk1.8：数组 + 链表(默认)/红黑树(链表长度达到7时)

数组：连续内存区域，查询快O(1), 增删慢O(n)

链表：增删快O(1) , 查询慢 O(n)

红黑树：增删慢与链表(要比较大小)





##### 数组 + 链表

![](G:\data\notebooks\resources\img\hashMap.png)







##### 数组 + 链表、红黑树



##### 面试题

* HashMap线程安全吗？

  * 单纯的get时不会存在线程安全问题
  * put时存在线程安全问题（扩容时，更新时）

* 扩容规则

  默认16，扩容2倍